
% Copyright (c) 2015 - 2021 Mario Mlaƒçak, mmlacak@gmail.com
% Published as Public Domain work, under CC0 1.0 Universal Public Domain Dedication. See LICENSING, COPYING files for details.

% Definitions chapter ----------------------------------------------------
\chapter*{Definitions}
\addcontentsline{toc}{chapter}{Definitions}
\label{ch:Definitions}

\section*{Chessboard sides, navigation}
\addcontentsline{toc}{section}{Chessboard sides, navigation}
\label{sec:Definitions/Chessboard sides, navigation}

In canonical representation, which is used throughout this book, light player
starts from bottom of a chessboard, while dark player starts from top.

Light side of chessboard is bottom half of chessboard, it includes all fields
closer to light player's initial positions. Similarly, dark side of chessboard
is upper half.

Queen's side is left half of chessboard, it contains both Queens in their
initial positions. Similarly, King's side is right half of chessboard.

Forward movement is towards opponent's initial positions. For light player
that is up, for dark player it's down. Similarly, backward movement is towards
own initial positions. For light player that is down, for dark player it's up.

Steps (arrows in examples) are referred to by relative position of its end point
(field). For instance, light Pawn can move by stepping up, and can capture by
stepping up-left or up-right.

\clearpage % ..........................................................

\section*{Movement limits}
\addcontentsline{toc}{section}{Movement limits}
\label{sec:Definitions/Movement limits}

Maximum number of steps Serpent, Scout, and Grenadier can make is determined
by the size of a chessboard.

\begin{equation}
sml = \lfloor \bigg( \sqrt{ \frac{n^2}{1 + \sqrt{2}} } \bigg) \rfloor
\end{equation}

\begin{equation}
oml = \lfloor \bigg( \sqrt{ \frac{n^2}{7 + \sqrt{n}} } \bigg) \rfloor
\end{equation}

\begin{equation}
ghml = oml - 2
\end{equation}

\begin{equation}
gvml = \lfloor \bigg( \sqrt{ \frac{n^2}{1 + \sqrt{n}} } \bigg) \rfloor - 2
\end{equation}

\begin{equation}
ghcqml = 1 + copgf
\end{equation}

\begin{equation}
mml = 1 + coop
\end{equation}

where:

$n$ is size of chessboard for a given variant

$\lfloor\ \rfloor$ is floor function, giving the largest integer smaller than
or equal to its argument

$sml$ - Serpent's movement limit, i.e. maximum number of steps Serpent can make

$oml$ - Scout's movement limit, i.e. maximum number of steps Scout can make

$ghml$ - Grenadier's horizontal movement limit, when not surrounded by opponent's pieces

$gvml$ - Grenadier's vertical movement limit, when not surrounded by opponent's pieces

$copgf$ - count of opponent's pieces on grenadier-fields

$ghcqml$ - Grenadier's horizontal movement limit in close quarters, i.e. when surrounded by opponent's pieces

$mml$ - Monolith's movement limit, i.e. maximum number of steps Monolith can make

$coop$ - count of owned Pawns, i.e. number of Pawns player moving a Monolith has

\clearpage % ..........................................................

\section*{Monolith initial positions}
\addcontentsline{toc}{section}{Monolith initial positions}
\label{sec:Definitions/Monolith initial positions}

Monolith initial positions are calculated from the size of a chessboard.

\begin{equation}
dx = \lfloor \frac{n}{11} \rfloor
\end{equation}

\begin{equation}
dy = \lfloor \frac{7 \times n}{22} \rfloor
\end{equation}

Monolith on light side of chessboard has coordinates:

\begin{equation}
mls = (dx - 1, dy - 1)
\end{equation}

Monolith on dark side of chessboard has coordinates:

\begin{equation}
mds = (n - dx, n - dy)
\end{equation}

where:

$n$ is size of chessboard for a given variant

$\lfloor\ \rfloor$ is floor function, giving the largest integer less than or equal to its argument

$dx$, $dy$ are offsets along x- and y-axis, respectively

$mls$, $mds$ are $(x, y)$ coordinates of Monolith, both $x$ and $y$ starts from $0$

\clearpage % ..........................................................

\section*{Promotions}
\addcontentsline{toc}{section}{Promotions}
\label{sec:Definitions/Promotions}

Pawn can be promoted to any piece except Pawn, King, Star or Monolith.
Pawn can only be promoted to a piece of the same color.

Promotions are forced, i.e. Pawn has to be promoted immediately, in the following
variants: Classical Chess, Croatian Ties, Mayan Ascendancy and Conquest of Tlalocan.
Forced promotion means that Pawn has to be promoted in the same move in which it
reached opposite end of chessboard. If it was promoted by Pyramid, it has to be
promoted in the very same ply in which it was reached by that Pyramid.

Promotions are not forced in all the other variants. Additionally, Pawn can be promoted
at some point later in game. Promotion in that case is whole move, i.e. move in which
only promotion is made. During that time (between been tagged for promotion and actual
promotion itself), Pawn must not move, i.e. it has to be actually promoted on the same
field it was tagged for promotion. If tagged Pawn moves before it gets promoted, it
looses its tag, i.e. can no longer be promoted.

Pawn can be promoted to Queen if and only if existing Queen has been captured, in
Nineteen and One variants. In these variants only one Queen, in the same color, is
ever allowed to be present on chessboard. In all the other variants, each side can
have multiple Queens present on chessboard at the same time.

% \section*{Summary}
% \addcontentsline{toc}{section}{Summary}
% \label{sec:Definitions/Summary}

% Here, guiding principles for pieces, rules are summarized, exceptions to those are
% also mentioned.

% Rush is always allowed for Pawns which haven't moved, to the maximum extent of
% own side of chessboard. Converted opponent's Pawns cannot rush.

% Converted opponent's Rooks cannot castle.

% Kings, Stars and Monoliths cannot be converted, nor activated via Wave.
% Stars can be activated and moved by Starchild.
% Starchilds cannot be converted, but can be activated.

% TODO :: finish summary, guiding principles

\clearpage % ..........................................................
% ---------------------------------------------------- Definitions chapter
